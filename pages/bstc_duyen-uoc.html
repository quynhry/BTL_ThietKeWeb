<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bộ sưu tập cưới | Duyên Ước</title>
  <link rel="stylesheet" href="../assets/css/bstc_duyen-uoc.css" />
  <link rel="stylesheet" href="../assets/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" sizes="32x32" href="../assets/img/logo.png">
</head>
<body>
<header id="header" class="visible simple-header">
    <div class="header-container">

        <!-- Logo -->
        <div class="header-logo">
            <a href="../index.html">YÊN HOA</a>
        </div>

       <ul class="header-menu">
                <li class="menu-item"><a href="gioi_thieu.html">Giới thiệu</a></li>

                <li class="menu-item">
                    <a href="../san-pham.html">Sản phẩm</a>
                    <ul class="sub-menu">
                        <li class="menu-home">
                            <a href="ao_dai_tet.html">Áo Dài Tết</a>
                            <ul class="sub-menu sub-menu2">
                                <li><a href="xuan_y_bich_hoa.html">Xuân Ý Bích Họa</a></li>
                                <li><a href="hoa_cam.html">Họa Cầm</a></li>
                            </ul>
                        </li>
                        <li class="menu-home">
                            <a href="ao_dai_me.html">Áo Dài Mẹ</a>
                            <ul class="sub-menu sub-menu2">
                                <li><a href="phuong_vu.html">Phượng Vũ</a></li>
                                <li><a href="tu_van.html">Từ Vân</a></li>
                            </ul>
                        </li>
                        <li class="menu-home">
                            <a href="ao_dai_truyen_thong.html">Áo Dài Truyền Thống</a>
                            <ul class="sub-menu sub-menu2">
                                <li><a href="duyen.html">Duyên</a></li>
                                <li><a href="diem.html">Diễm</a></li>
                                <li><a href="ha_thu.html">Hạ Thu</a></li>
                                <li><a href="truc_giao.html">Trúc Giao</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>

                <li class="menu-item">
                    <a href="bo_suu_tap_cuoi.html">Bộ Sưu Tập Cưới</a>
                    <ul class="sub-menu">
                        <li><a href="duyen_uoc.html">Duyên Ước</a></li>
                        <li><a href="giao_duyen.html">Giao Duyên</a></li>
                        <li><a href="nhan_duyen.html">Nhân Duyên</a></li>
                        <li><a href="tam_duyen.html">Tầm Duyên</a></li>
                    </ul>
                </li>

                <li class="menu-item"><a href="cuahang.html">Cửa hàng</a></li>
                <li class="menu-item"><a href="khach_hang.html">Khách hàng</a></li>
            </ul>

        <!-- Icons -->
        <div class="header-icons">
            <i class="fa-solid fa-magnifying-glass"></i>

            <div class="user-menu" id="headerUser"></div>

            <div class="cart-icon" onclick="location.href='cart.html'">
                <i class="fa-solid fa-cart-shopping"></i>
                <span id="cartIconCount">0</span>
            </div>
        </div>

    </div>
</header>

<!-- ===== COLLECTION INTRO (IMAGE + TEXT) ===== -->
<section class="collection-intro">
  <div class="collection-intro-container">

    <!-- LEFT: IMAGE -->
<div class="collection-image">
  <div class="banner-wrapper">
    <img src="../assets/img/tam_duyen/khiet_dan/khiet_dan5.jpeg" alt="Bộ sưu tập Duyên Ước" />
    
    <div class="banner-overlay">
      <span class="text-duyen">Duyên</span>
      <span class="text-uoc">Ước</span>
    </div>
  </div>
</div>
    <!-- RIGHT: TEXT -->
    <div class="collection-content">
      <h1 class="collection-title">Duyên Ước</h1>
      <div class="quote">"Một lời hẹn cho tháng năm dài phía trước."</div>

      <div class="collection-desc">
      
        <p><b>Duyên Ước</b> là bản tình ca bằng lụa – được dệt từ sự thấu hiểu và những cảm xúc chân thành của hai người yêu nhau. Bộ sưu tập là hình ảnh của tình yêu đã chín, đủ sâu và đủ bền; lặng lẽ mà kiên vững như gốc rễ của một mối duyên lành. Đó là khoảnh khắc cả hai nhận ra: <b><em>đây chính là người sẽ cùng mình đi đến trọn đời</em></b>.</p>
        
        <p>Được ấp ủ bởi nhà thiết kế Yên Hoa cùng những nghệ nhân thêu đính giàu kinh nghiệm, mỗi chi tiết trong <b>Duyên Ước</b> đều chứa đựng tâm huyết, sự tinh tế và niềm hiểu thấu cảm xúc của ngày cưới. Không chỉ là trang phục, đó là thiết kế có thể nói hộ những nguyện ước thầm lặng của cô dâu – chú rể.
          Yên Hoa tin rằng <b>Duyên Ước</b> sẽ là nơi mỗi cặp đôi nhìn thấy chính mình – trong tình yêu, trong ký ức và trong vẻ đẹp của một di sản vẫn đang được tiếp nối.</p>
      </div>
    </div>

  </div>
</section>



  <!-- FILTER -->
<section class="filter-section">
  <div class="filter-container">
    <!-- HTML BÊN TRÁI -->
     <button class="mobile-filter-btn">
        Bộ lọc & Sắp xếp
    </button>

    <div class="filters-left">
      <span class="filter-title">BỘ LỌC</span>
      <div class="filters">
        <div class="dropdown">
          <button class="dropbtn">Kích thước</button>
          <div class="dropdown-content">
            <label><input type="checkbox" class="filter-size" value="s"> S</label>
            <label><input type="checkbox" class="filter-size" value="m"> M</label>
            <label><input type="checkbox" class="filter-size" value="l"> L</label>
            <label><input type="checkbox" class="filter-size" value="xl"> XL</label>
            <label><input type="checkbox" class="filter-size" value="xxl"> XXL</label>
          </div>
        </div>

        <div class="dropdown">
          <button class="dropbtn">Màu sắc</button>
          <div class="dropdown-content">
            <label><input type="checkbox" class="filter-color" value="trang"> Trắng</label>
            <label><input type="checkbox" class="filter-color" value="hong"> Hồng</label>
            <label><input type="checkbox" class="filter-color" value="do"> Đỏ</label>
            <label><input type="checkbox" class="filter-color" value="xanh ngoc"> Xanh ngọc</label>
            <label><input type="checkbox" class="filter-color" value="vang"> Vàng</label>
          </div>
        </div>

        <div class="dropdown">
          <button class="dropbtn">Khoảng giá</button>
          <div class="dropdown-content">
            <label><input type="checkbox" class="filter-price" value="0-1000000"> Dưới 1 triệu</label>
            <label><input type="checkbox" class="filter-price" value="1000000-2000000"> 1 triệu - 2 triệu</label>
            <label><input type="checkbox" class="filter-price" value="2000000-5000000"> 2 triệu - 5 triệu</label>
            <label><input type="checkbox" class="filter-price" value="5000000-10000000"> 5 triệu - 10 triệu</label>
            <label><input type="checkbox" class="filter-price" value="10000000-15000000"> 10 triệu - 15 triệu</label>
            <label><input type="checkbox" class="filter-price" value="15000000-999999999"> Trên 15 triệu</label>
          </div>
        </div>
      </div>
    </div>

    <!-- mobile -->
<!-- MOBILE FILTER DRAWER -->
<div class="mobile-filter-drawer" id="mobileFilter">
  <div class="mobile-filter-content">

    <div class="mobile-filter-header">
      <button class="close-filter">&times;</button>
    </div>

    <!-- FILTER CŨ – GIỮ NGUYÊN -->
<div class="filters-left mobile-filters">
  <span class="filter-title">BỘ LỌC</span>

  <div class="filters">

    <!-- KÍCH THƯỚC -->
    <div class="dropdown active">
      <button class="dropbtn">Kích thước</button>
      <div class="dropdown-content">
        <label><input type="checkbox" class="filter-size" value="may do"> May đo</label>
        <label><input type="checkbox" class="filter-size" value="xs"> XS</label>
        <label><input type="checkbox" class="filter-size" value="s"> S</label>
        <label><input type="checkbox" class="filter-size" value="m"> M</label>
        <label><input type="checkbox" class="filter-size" value="l"> L</label>
        <label><input type="checkbox" class="filter-size" value="xl"> XL</label>
      </div>
    </div>

    <!-- MÀU SẮC -->
    <div class="dropdown active">
      <button class="dropbtn">Màu sắc</button>
      <div class="dropdown-content">
        <label><input type="checkbox" class="filter-color" value="trang"> Trắng</label>
        <label><input type="checkbox" class="filter-color" value="hong"> Hồng</label>
        <label><input type="checkbox" class="filter-color" value="do"> Đỏ</label>
        <label><input type="checkbox" class="filter-color" value="xanh ngoc"> Xanh ngọc</label>
        <label><input type="checkbox" class="filter-color" value="vang"> Vàng</label>
      </div>
    </div>

    <!-- KHOẢNG GIÁ -->
    <div class="dropdown active">
      <button class="dropbtn">Khoảng giá</button>
      <div class="dropdown-content">
        <label><input type="checkbox" class="filter-price" value="0-1000000"> Dưới 1 triệu</label>
        <label><input type="checkbox" class="filter-price" value="1000000-2000000"> 1 – 2 triệu</label>
        <label><input type="checkbox" class="filter-price" value="2000000-5000000"> 2 – 5 triệu</label>
        <label><input type="checkbox" class="filter-price" value="5000000-10000000"> 5 – 10 triệu</label>
        <label><input type="checkbox" class="filter-price" value="10000000-15000000"> 10 – 15 triệu</label>
        <label><input type="checkbox" class="filter-price" value="15000000-999999999"> Trên 15 triệu</label>
      </div>
    </div>

  </div>
</div>


<!-- ===== MOBILE SORT ===== -->
<div class="mobile-divider"></div>

<div class="mobile-sort-section">
  <span class="sort-label">SẮP XẾP</span>
  <select class="mobile-sort-select" id="mobileSortSelect">
    <option value="new">Mới nhất</option>
    <option value="az">Tên A → Z</option>
    <option value="za">Tên Z → A</option>
    <option value="priceAsc">Giá tăng dần</option>
    <option value="priceDesc">Giá giảm dần</option>
  </select>
</div>


  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const openBtn = document.querySelector('.mobile-filter-btn');
    const drawer = document.getElementById('mobileFilter');
    const closeBtn = document.querySelector('.close-filter');

    if (!openBtn || !drawer || !closeBtn) {
      console.log('❌ Không tìm thấy phần tử filter');
      return;
    }

    openBtn.addEventListener('click', () => {
      drawer.classList.add('active');
      console.log('✅ Open mobile filter');
    });

    closeBtn.addEventListener('click', () => {
      drawer.classList.remove('active');
    });
  });
</script>

<script>
  // Toggle dropdown trong mobile filter
  document.addEventListener('click', function(e) {
    // Nếu click vào dropbtn trong mobile filter
    if (e.target.closest('.mobile-filter-drawer .dropbtn')) {
      e.preventDefault();
      e.stopPropagation();
      
      const dropdown = e.target.closest('.dropdown');
      const allDropdowns = document.querySelectorAll('.mobile-filter-drawer .dropdown');
      
      // Đóng tất cả dropdown khác (tùy chọn)
      allDropdowns.forEach(d => {
      if (d !== dropdown) d.classList.remove('active');
      });
      
      // Toggle dropdown hiện tại
      dropdown.classList.toggle('active');
    }
  });
</script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const desktopFilters = document.querySelector(".filter-section .filters-left");
  const mobileFilters = document.querySelector(".mobile-filter-drawer .filters-left");

  if (desktopFilters && mobileFilters) {
    mobileFilters.innerHTML = desktopFilters.innerHTML;
  }
});
</script>




    <!-- HTML SORT BÊN PHẢI -->
    <div class="sort">
      <label>Sắp xếp theo:</label>
        <select id="sortSelect">
          <option value="new">Mới nhất</option>
          <option value="az">Tên A → Z</option>
          <option value="za">Tên Z → A</option>
          <option value="priceAsc">Giá tăng dần</option>
          <option value="priceDesc">Giá giảm dần</option>
        </select>
</div>

</section>

  <script src="../assets/js/auth.js"></script>


  <!-- PRODUCT GRID -->
  <section class="product-list">
    <div class="product-card" data-size="S,M,L" data-color="hong" data-price="2990000">
      <div class="product-image">
        <img src="https://pubcdn.ivymoda.com/files/product/thumab/400/2024/12/05/2f1ceedec6779418ec193fbaf8bed25a.webp" alt="Ảnh chính" class="main-img">
        <img src="https://pubcdn.ivymoda.com/files/product/thumab/1400/2024/12/05/bf08dd66519751788b7f14eee52f4007.webp" alt="Ảnh hover" class="hover-img">
      </div>
      <div class="product-info">
        <div class="product-top">
          <i class="fa-regular fa-heart wishlist"></i>
          <i class="fa-regular fa-paper-plane"></i>
        </div>
        <h3 class="product-name">Áo Dài Xuân Yên</h3>
        <div class="product-footer">
          <span class="price">2.990.000đ</span>
          <button class="bag-btn" onclick="window.location.href='ctsp_1.html'">
            <i class="fa-solid fa-bag-shopping"></i>
          </button>

        </div>
      </div>
    </div>
    

    <div class="product-card" data-size="S,M,L,XL" data-color="vang" data-price="1400000">
      <div class="product-image">
        <img src="https://pos.nvncdn.com/22713a-176435/ps/20250905_Qql5KHzi0M.jpeg?v=1757039713" alt="Ảnh chính" class="main-img">
        <img src="https://pos.nvncdn.com/22713a-176435/ps/20250905_LDki07osav.jpeg?v=1757039718" alt="Ảnh hover" class="hover-img">
      </div>
      <div class="product-info">
        <div class="product-top">
          <i class="fa-regular fa-heart wishlist"></i>
          <i class="fa-regular fa-paper-plane"></i>
        </div>
        <h3 class="product-name">Dài Xuân Yên</h3>
        <div class="product-footer">
          <span class="price">1.400.000đ</span>
          <button class="bag-btn" onclick="window.location.href='ctsp_1.html'">
            <i class="fa-solid fa-bag-shopping"></i>
          </button>

        </div>
      </div>
    </div>

    <div class="product-card" data-size="S,M,L,XL" data-color="vang" data-price="1400000">
      <div class="product-image">
        <img src="https://pos.nvncdn.com/22713a-176435/ps/20250905_Qql5KHzi0M.jpeg?v=1757039713" alt="Ảnh chính" class="main-img">
        <img src="https://pos.nvncdn.com/22713a-176435/ps/20250905_LDki07osav.jpeg?v=1757039718" alt="Ảnh hover" class="hover-img">
      </div>
      <div class="product-info">
        <div class="product-top">
          <i class="fa-regular fa-heart wishlist"></i>
          <i class="fa-regular fa-paper-plane"></i>
        </div>
        <h3 class="product-name">Dài Xuân Yên</h3>
        <div class="product-footer">
          <span class="price">1.400.000đ</span>
          <button class="bag-btn" onclick="window.location.href='ctsp_1.html'">
            <i class="fa-solid fa-bag-shopping"></i>
          </button>

        </div>
      </div>
    </div>

        <div class="product-card" data-size="S,M,L,XL" data-color="vang" data-price="1400000">
      <div class="product-image">
        <img src="https://pos.nvncdn.com/22713a-176435/ps/20250905_Qql5KHzi0M.jpeg?v=1757039713" alt="Ảnh chính" class="main-img">
        <img src="https://pos.nvncdn.com/22713a-176435/ps/20250905_LDki07osav.jpeg?v=1757039718" alt="Ảnh hover" class="hover-img">
      </div>
      <div class="product-info">
        <div class="product-top">
          <i class="fa-regular fa-heart wishlist"></i>
          <i class="fa-regular fa-paper-plane"></i>
        </div>
        <h3 class="product-name">Dài Xuân Yên</h3>
        <div class="product-footer">
          <span class="price">1.400.000đ</span>
          <button class="bag-btn" onclick="window.location.href='ctsp_1.html'">
            <i class="fa-solid fa-bag-shopping"></i>
          </button>

        </div>
      </div>
    </div>


    


  
   
</section>
<div class="pagination" id="pagination"></div>

  <!-- FOOTER -->
  <footer-component></footer-component>
  <script src="../assets/js/main.js"></script>
  <script>
  // Ẩn dropdown khi click ra ngoài -- MENU
  document.addEventListener("click", function(e) {
    document.querySelectorAll(".dropdown").forEach(drop => {
      if (!drop.contains(e.target)) drop.classList.remove("active");
    });
  });

  // Bật/tắt dropdown khi clicks
  document.querySelectorAll(".dropbtn").forEach(btn => {
    btn.addEventListener("click", function(e) {
      e.stopPropagation();
      const parent = this.parentElement;
      parent.classList.toggle("active");
    });
  });
</script>


<!-- JS SORT BÊN TRÁI -->
<!-- JS FILTER - HỖ TRỢ CẢ DESKTOP & MOBILE -->
<script>
// Sử dụng event delegation để bắt sự kiện từ cả desktop và mobile
document.body.addEventListener("change", function(e) {
  if (e.target.matches(".filter-size, .filter-color, .filter-price")) {
    applyFilters();
  }
});

function applyFilters() {
  // Lấy tất cả checkbox đã tick từ CẢ desktop và mobile
  const sizes = [...document.querySelectorAll(".filter-size:checked")].map(i => i.value);
  const colors = [...document.querySelectorAll(".filter-color:checked")].map(i => i.value);
  const prices = [...document.querySelectorAll(".filter-price:checked")].map(i => i.value);

  const products = document.querySelectorAll(".product-card");

  products.forEach(p => {
    let ok = true;

    // ---- Lọc size ----
    if (sizes.length > 0) {
      const pSizes = p.dataset.size.toLowerCase();
      ok = sizes.some(sz => pSizes.includes(sz));
    }

    // ---- Lọc màu ----
    if (ok && colors.length > 0) {
      const pColor = p.dataset.color.toLowerCase();
      ok = colors.includes(pColor);
    }

    // ---- Lọc giá ----
    if (ok && prices.length > 0) {
      const pPrice = parseInt(p.dataset.price); 
      ok = prices.some(range => {
        const [min, max] = range.split("-").map(Number);
        return pPrice >= min && pPrice <= max;
      });
    }

    // ---- Hiển thị hoặc ẩn ----
    p.style.display = ok ? "block" : "none";
  });
}
</script>


<script>
document.addEventListener("DOMContentLoaded", function () {
  const mobileSort = document.getElementById("mobileSortSelect");
  const desktopSort = document.getElementById("sortSelect");

  if (mobileSort && desktopSort) {
    mobileSort.addEventListener("change", function () {
      desktopSort.value = this.value;
      desktopSort.dispatchEvent(new Event("change"));
    });
  }
});
</script>




<!-- JS SORT BÊN PHẢI -->
<script>
document.addEventListener("DOMContentLoaded", function () {

  const productsPerPage = 20;
  let currentPage = 1;
  const pagination = document.getElementById("pagination");

  // Lấy danh sách sản phẩm dạng Array
  let products = Array.from(document.querySelectorAll(".product-card"));

  // ===== HIỂN THỊ TRANG =====
  function showPage(page) {
    products.forEach((item, index) => {
      item.style.display = "none";
      if (index >= (page - 1) * productsPerPage && index < page * productsPerPage) {
        item.style.display = "block";
      }
    });

    document.querySelectorAll(".pagination button").forEach(btn => btn.classList.remove("active"));
    const currentBtn = pagination.querySelector(`button[data-page="${page}"]`);
    if (currentBtn) currentBtn.classList.add("active");
  }

  // ===== TẠO NÚT PHÂN TRANG =====
  function createButton(label, page, disabled = false) {
    const btn = document.createElement("button");
    btn.textContent = label;
    btn.dataset.page = page;
    btn.disabled = disabled;

    btn.addEventListener("click", () => {
      if (!disabled) {
        currentPage = page;
        showPage(currentPage);
        renderPagination();
      }
    });
    return btn;
  }

  // ===== RENDER PHÂN TRANG =====
  function renderPagination() {
    const totalPages = Math.ceil(products.length / productsPerPage);
    pagination.innerHTML = "";

    pagination.appendChild(createButton("<<", 1, currentPage === 1));
    pagination.appendChild(createButton("<", currentPage - 1, currentPage === 1));

    for (let i = 1; i <= totalPages; i++) {
      const btn = createButton(i, i);
      if (i === currentPage) btn.classList.add("active");
      pagination.appendChild(btn);
    }

    pagination.appendChild(createButton(">", currentPage + 1, currentPage === totalPages));
    pagination.appendChild(createButton(">>", totalPages, currentPage === totalPages));
  }

  // ===== HÀM SẮP XẾP THEO TIÊU CHÍ =====
  function sortProducts(criteria) {
    products.sort((a, b) => {

      let nameA = a.querySelector(".product-name").innerText.toLowerCase();
      let nameB = b.querySelector(".product-name").innerText.toLowerCase();

      let priceA = parseInt(a.querySelector(".price").innerText.replace(/\D/g, ""));
      let priceB = parseInt(b.querySelector(".price").innerText.replace(/\D/g, ""));

      switch (criteria) {
        case "az":
          return nameA.localeCompare(nameB);

        case "za":
          return nameB.localeCompare(nameA);

        case "priceAsc":
          return priceA - priceB;

        case "priceDesc":
          return priceB - priceA;

        default:
          return 0;
      }
    });

    // Render lại DOM theo thứ tự mới
    const container = document.querySelector(".product-list");
    products.forEach(p => container.appendChild(p));

    // Reset lại trang 1
    currentPage = 1;
    renderPagination();
    showPage(currentPage);
  }

  // ===== SỰ KIỆN LỌC =====
  document.getElementById("sortSelect").addEventListener("change", function () {
    sortProducts(this.value);
  });

  // ===== KHỞI TẠO BAN ĐẦU =====
  renderPagination();
  showPage(currentPage);

});
</script>




<script>
  // Lấy tất cả các icon tim
  const hearts = document.querySelectorAll('.wishlist');

  hearts.forEach((heart) => {
    heart.addEventListener('click', () => {
      heart.classList.toggle('active'); // đổi màu đỏ
      heart.classList.toggle('fa-solid'); // đổi icon sang solid (đầy)
      heart.classList.toggle('fa-regular'); // bỏ viền
    });
  });
</script>

<script src="../assets/js/cart-core.js"></script>
    <script>
  function updateCartIcon() {
    const el = document.getElementById('cartIconCount');
    if (!el || !window.Cart) return;
    el.textContent = Cart.count();
  }

  // Khi load trang
  document.addEventListener('DOMContentLoaded', updateCartIcon);

  // Khi cart thay đổi (từ bất kỳ trang nào)
  window.addEventListener('cart:change', updateCartIcon);
</script>





</body>
</html>